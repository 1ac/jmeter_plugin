<?xml version="1.0" encoding="UTF-8"?>
<beans
        xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"
        default-autowire="constructor"
        >


    <bean id="performanceAnalysisFeature" class="perf_test_analyzer.server.PerformanceAnalysisFeature"/>
    <bean id="badPerfProblemType" class="perf_test_analyzer.server.BadPerfProblemTypeProvider"/>
    <bean id="assertFailProblemType" class="perf_test_analyzer.server.AssertFailProblemTypeProvider"/>


    <!--aggregated statistic by builds-->
    <bean id="perfStatStorageValueProvider" class="perf_test_analyzer.server.aggregation.PerfStatisticDataProvider">
        <constructor-arg index="0" ref="BuildDataStorage"/>
        <constructor-arg index="1" ref="valueProviderRegistry"/>
        <constructor-arg index="2" ref="buildServer"/>
    </bean>

    <bean id="perfStatPublisher" class="perf_test_analyzer.server.aggregation.PerfStatisticPublisher">
        <constructor-arg index="0" ref="BuildDataStorage"/>
    </bean>

    <bean id="performanceStatisticTab" class="perf_test_analyzer.server.aggregation.PerfStatisticTab" init-method="register">
        <constructor-arg index="0" ref="webControllerManager"/>
        <constructor-arg index="1" ref="projectManager"/>
        <constructor-arg index="2" ref="perfStatStorageValueProvider"/>
        <constructor-arg index="3" ref="valueProviderRegistry"/>

    </bean>


    <!-- performance monitoring-->
    <bean id="jmeterPerfMonStateController" class="perf_test_analyzer.server.monitoring.PerfMonitoringController"/>

    <bean id="jMeterPerfMonTab" class="perf_test_analyzer.server.monitoring.PerfMonitoringTab">
        <constructor-arg index="0" ref="webControllerManager"/>
        <constructor-arg index="1" ref="buildServer"/>
    </bean>

</beans>
